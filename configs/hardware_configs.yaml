# DocLayout-YOLO Hardware-Specific Configuration
# Configuration templates for different compute environments

# Local Development (CPU i5-13420H + GPU RTX 2050 4GB) - OPTIMIZED
local_development:
  device: "cpu"  # Use CPU for testing (change to "0" for GPU)
  batch_size: 4  # Reduced for CPU
  workers: 2  # Reduced for testing
  image_size: 256  # Smaller for CPU testing
  base_epochs: 3  # Very few epochs for testing
  refinement_epochs: 2  # Minimal for testing
  patience: 5  # Early stopping
  mixed_precision: false  # Disable for CPU
  
  # Training parameters optimized for testing
  lr0: 0.01  # Stable learning rate
  refinement_lr0: 0.002  # Lower LR for refinement
  warmup_epochs: 1  # Minimal warmup
  refinement_warmup_epochs: 1  # Minimal warmup for refinement
  mosaic: 0.3  # Light augmentation for testing
  
  # Memory and speed optimizations
  save_period: 1  # Frequent saves for testing
  val_period: 1   # Regular validation
  freeze_backbone_layers: 5  # Partial freezing strategy
  enable_gradient_checkpointing: false  # Not needed for small models

# Kaggle Environment
kaggle:
  device: "0"
  batch_size: 16  # Can use more with Kaggle GPUs
  workers: 2     # Kaggle has fewer CPU cores
  image_size: 1120
  base_epochs: 300
  refinement_epochs: 100
  patience: 100
  mixed_precision: true
  
  # Kaggle-specific optimizations
  lr0: 0.02
  warmup_epochs: 3
  mosaic: 1.0
  
  # Kaggle has time limits, so optimize for speed
  save_period: 50
  val_period: 10

# Google Colab
colab:
  device: "0"
  batch_size: 12  # Balance between speed and memory
  workers: 2
  image_size: 1120
  base_epochs: 300
  refinement_epochs: 100
  patience: 100
  mixed_precision: true
  
  # Colab-specific settings
  lr0: 0.02
  warmup_epochs: 3
  mosaic: 1.0
  
  # Colab has session limits
  save_period: 25
  val_period: 5

# High-End Server (Multi-GPU)
server:
  device: "0,1,2,3"  # Multi-GPU
  batch_size: 64     # Large batch size
  workers: 8
  image_size: 1120
  base_epochs: 500
  refinement_epochs: 200
  patience: 100
  mixed_precision: true
  
  # High-performance settings
  lr0: 0.04  # Higher LR for larger batch
  warmup_epochs: 3
  mosaic: 1.0
  
  # More frequent validation on powerful hardware
  save_period: 10
  val_period: 1

# CPU-Only (Fallback)
cpu_only:
  device: "cpu"
  batch_size: 2     # Very small for CPU
  workers: 4
  image_size: 640   # Smaller image size for CPU
  base_epochs: 50   # Much fewer epochs
  refinement_epochs: 20
  patience: 20
  mixed_precision: false  # No mixed precision on CPU
  
  # CPU-optimized settings
  lr0: 0.005
  warmup_epochs: 2
  mosaic: 0.5
  
  # Minimal I/O for CPU training
  save_period: 10
  val_period: 10